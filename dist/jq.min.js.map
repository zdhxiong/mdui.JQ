{"version":3,"sources":["jq.js"],"names":["global","factory","exports","module","define","amd","self","JQ","this","t","e","bubbles","cancelable","detail","n","document","createEvent","initCustomEvent","finallyConstructor","callback","constructor","then","value","resolve","reason","reject","MouseEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","prototype","Event","CustomEvent","setTimeoutFunc","setTimeout","isArray","x","Boolean","length","noop","Promise$1","fn","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","promise","push","newValue","finale","thisArg","apply","arguments","bind","_unhandledRejectionFn","i","len","Handler","done","ex","prom","all","arr","args","Array","slice","call","remaining","res","val","race","setImmediate","err","console","warn","globalNS","Error","Promise","$","selector","html","trim","toCreate","tags","li","tr","td","th","tbody","option","Object","keys","forEach","childTag","parentTag","indexOf","tempParent","createElement","innerHTML","childNodes","elems","match","querySelectorAll","getElementById","i$1","ready","nodeType","i$2","extend","this$1","prop","target","shift","loop","isArrayLike","isObjectLike","isFunction","isString","each","obj","unique","result","merge","first","second","test","readyState","body","addEventListener","get","index","add","nameIndex","name","className","classes","split","elem","j","cls","classList","$elem","_this","parentNode","insertBefore","cloneNode","nextSibling","after","insertAfter","globalOptions","ajaxEvents","ajaxStart","ajaxSuccess","ajaxError","ajaxComplete","handlers","mduiElementId","fnFalse","getElementId","element","remove","eventName","func","event","filter","handler","toString","sel","getHandlers","removeEventListener","proxy","map","elements","ref","concat","dir","nodes","node","is","off","type","on","data","one","origCallback","elementId","useCapture","callFn","_detail","preventDefault","stopPropagation","proxyfn","_data","find","reverse","contains","params","xhr","options","newChild","newChilds","copyByClone","tempDiv","child","appendChild","appendTo","append","set","key","setAttribute","style","argLength","getAttribute","getComputedStyle","getPropertyValue","k","v","before","children","_","__","childNode","el","clone","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","$compareWith","eq","closest","parents","dataNS","storage","attributes","attribute","replace","u","charAt","toUpperCase","dataKey","parent","documentElement","removeData","empty","ele","$selector","foundElements","has","$targets","hasClass","Width","Height","isNaN","Number","css","isWindow","DOCUMENT_NODE","isDocument","IEFixValue","isWidth","parseFloat","hide","display","props","0","1","2","defaults","last","not","$excludes","offset","getBoundingClientRect","left","pageXOffset","top","pageYOffset","width","height","offsetParent","eName","position","parentOffset","nodeName","toLowerCase","isNodeName","prependTo","prepend","removeChild","removeAttr","attr","removeAttribute","removeProp","replaceWith","newContent","replaceAll","serializeArray","disabled","checked","serialize","encodeURIComponent","join","elementDisplay","param","destructure","keyTmp","show","defaultDisplay","siblings","prevAll","nextAll","toggle","trigger","evt","isMouseEvent","dispatchEvent","jsonpID","ajaxCallbacks","callbackNames","isQueryStringData","method","appendQuery","url","query","ajax","processData","async","cache","username","password","headers","xhrFields","statusCode","dataType","timeout","contentType","jsonp","jsonpCallback","Date","now","isCanceled","globals","eventParams","triggerEvent","triggerCallback","result1","result2","location","sendData","ArrayBuffer","Blob","Document","FormData","callbackName","requestUrl","abortTimeout","script","onerror","clearTimeout","statusText","src","xhrTimeout","XMLHttpRequest","open","setRequestHeader","crossDomain","RegExp","$2","host","onload","responseData","isHttpStatusSuccess","status","JSON","parse","responseText","responseType","response","onabort","abort","send","ajaxSetup"],"mappings":"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","file":"jq.min.js","sourcesContent":["/**\n * JQ 1.0.0 (https://github.com/zdhxiong/mdui.JQ#readme)\n * Copyright 2018-2019 zdhxiong\n * Licensed under MIT\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.JQ = factory());\n}(this, function () { 'use strict';\n\n  !function(){try{return new MouseEvent(\"test\")}catch(e){}var e=function(e,t){t=t||{bubbles:!1,cancelable:!1};var n=document.createEvent(\"MouseEvent\");return n.initMouseEvent(e,t.bubbles,t.cancelable,window,0,t.screenX||0,t.screenY||0,t.clientX||0,t.clientY||0,t.ctrlKey||!1,t.altKey||!1,t.shiftKey||!1,t.metaKey||!1,t.button||0,t.relatedTarget||null),n};e.prototype=Event.prototype,window.MouseEvent=e;}();\n\n  !function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}\"function\"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t);}();\n\n  /**\n   * @this {Promise}\n   */\n  function finallyConstructor(callback) {\n    var constructor = this.constructor;\n    return this.then(\n      function(value) {\n        // @ts-ignore\n        return constructor.resolve(callback()).then(function() {\n          return value;\n        });\n      },\n      function(reason) {\n        // @ts-ignore\n        return constructor.resolve(callback()).then(function() {\n          // @ts-ignore\n          return constructor.reject(reason);\n        });\n      }\n    );\n  }\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function isArray(x) {\n    return Boolean(x && typeof x.length !== 'undefined');\n  }\n\n  function noop() {}\n\n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function() {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  /**\n   * @constructor\n   * @param {Function} fn\n   */\n  function Promise$1(fn) {\n    if (!(this instanceof Promise$1))\n      { throw new TypeError('Promises must be constructed via new'); }\n    if (typeof fn !== 'function') { throw new TypeError('not a function'); }\n    /** @type {!number} */\n    this._state = 0;\n    /** @type {!boolean} */\n    this._handled = false;\n    /** @type {Promise|undefined} */\n    this._value = undefined;\n    /** @type {!Array<!Function>} */\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise$1._immediateFn(function() {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self)\n        { throw new TypeError('A promise cannot be resolved with itself.'); }\n      if (\n        newValue &&\n        (typeof newValue === 'object' || typeof newValue === 'function')\n      ) {\n        var then = newValue.then;\n        if (newValue instanceof Promise$1) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise$1._immediateFn(function() {\n        if (!self._handled) {\n          Promise$1._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  /**\n   * @constructor\n   */\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(\n        function(value) {\n          if (done) { return; }\n          done = true;\n          resolve(self, value);\n        },\n        function(reason) {\n          if (done) { return; }\n          done = true;\n          reject(self, reason);\n        }\n      );\n    } catch (ex) {\n      if (done) { return; }\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise$1.prototype['catch'] = function(onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise$1.prototype.then = function(onFulfilled, onRejected) {\n    // @ts-ignore\n    var prom = new this.constructor(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise$1.prototype['finally'] = finallyConstructor;\n\n  Promise$1.all = function(arr) {\n    return new Promise$1(function(resolve, reject) {\n      if (!isArray(arr)) {\n        return reject(new TypeError('Promise.all accepts an array'));\n      }\n\n      var args = Array.prototype.slice.call(arr);\n      if (args.length === 0) { return resolve([]); }\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(\n                val,\n                function(val) {\n                  res(i, val);\n                },\n                reject\n              );\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise$1.resolve = function(value) {\n    if (value && typeof value === 'object' && value.constructor === Promise$1) {\n      return value;\n    }\n\n    return new Promise$1(function(resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise$1.reject = function(value) {\n    return new Promise$1(function(resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise$1.race = function(arr) {\n    return new Promise$1(function(resolve, reject) {\n      if (!isArray(arr)) {\n        return reject(new TypeError('Promise.race accepts an array'));\n      }\n\n      for (var i = 0, len = arr.length; i < len; i++) {\n        Promise$1.resolve(arr[i]).then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise$1._immediateFn =\n    // @ts-ignore\n    (typeof setImmediate === 'function' &&\n      function(fn) {\n        // @ts-ignore\n        setImmediate(fn);\n      }) ||\n    function(fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise$1._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /** @suppress {undefinedVars} */\n  var globalNS = (function() {\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') {\n      return self;\n    }\n    if (typeof window !== 'undefined') {\n      return window;\n    }\n    if (typeof global !== 'undefined') {\n      return global;\n    }\n    throw new Error('unable to locate global object');\n  })();\n\n  if (!('Promise' in globalNS)) {\n    globalNS['Promise'] = Promise$1;\n  } else if (!globalNS.Promise.prototype['finally']) {\n    globalNS.Promise.prototype['finally'] = finallyConstructor;\n  }\n\n  var JQ = function JQ(arr) {\n    var self = this;\n\n    for (var i = 0; i < arr.length; i += 1) {\n      self[i] = arr[i];\n    }\n\n    self.length = arr.length;\n\n    return this;\n  };\n\n  function $(selector) {\n    var arr = [];\n\n    if (!selector) {\n      return new JQ(arr);\n    }\n\n    if (selector instanceof JQ) {\n      return selector;\n    }\n\n    if (typeof selector === 'string') {\n      var html = selector.trim();\n\n      if (html[0] === '<' && html[html.length - 1] === '>') {\n        // 创建 HTML 字符串\n        var toCreate = 'div';\n\n        var tags = {\n          li: 'ul',\n          tr: 'tbody',\n          td: 'tr',\n          th: 'tr',\n          tbody: 'table',\n          option: 'select',\n        };\n\n        Object.keys(tags).forEach(function (childTag) {\n          var parentTag = tags[childTag];\n\n          if (html.indexOf((\"<\" + childTag)) === 0) {\n            toCreate = parentTag;\n          }\n        });\n\n        var tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n\n        for (var i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        // 选择器\n        var elems = selector[0] === '#' && !selector.match(/[ .<>:~]/)\n          ? [document.getElementById(selector.slice(1))]\n          : document.querySelectorAll(selector);\n\n        for (var i$1 = 0; i$1 < elems.length; i$1 += 1) {\n          if (elems[i$1]) {\n            arr.push(elems[i$1]);\n          }\n        }\n      }\n\n      return new JQ(arr);\n    }\n\n    if (typeof selector === 'function') {\n      // function\n      return $(document).ready(selector);\n    }\n\n    if (selector.nodeType || selector === window || selector === document) {\n      // Node\n      arr.push(selector);\n    } else if (selector.length > 0 && selector[0].nodeType) {\n      // NodeList\n      for (var i$2 = 0; i$2 < selector.length; i$2 += 1) {\n        arr.push(selector[i$2]);\n      }\n    }\n\n    return new JQ(arr);\n  }\n\n  function extend() {\n    var this$1 = this;\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    if (!args.length) {\n      return this;\n    }\n\n    // $.extend(obj)\n    if (args.length === 1) {\n      Object.keys(args[0]).forEach(function (prop) {\n        this$1[prop] = args[0][prop];\n      });\n\n      return this;\n    }\n\n    // $.extend({}, defaults[, obj])\n    var target = args.shift();\n\n    var loop = function ( i ) {\n      Object.keys(args[i]).forEach(function (prop) {\n        target[prop] = args[i][prop];\n      });\n    };\n\n    for (var i = 0; i < args.length; i += 1) loop( i );\n\n    return target;\n  }\n\n  $.fn = JQ.prototype;\n  $.fn.extend = extend;\n  $.extend = extend;\n\n  /**\n   * DOM 加载完毕后调用的函数\n   * @param callback\n   * @returns {ready}\n   */\n  $.fn.ready = function (callback) {\n    if (/complete|loaded|interactive/.test(document.readyState) && document.body) {\n      callback($);\n    } else {\n      document.addEventListener('DOMContentLoaded', function () {\n        callback($);\n      }, false);\n    }\n\n    return this;\n  };\n\n  function isNodeName(element, name) {\n    return element.nodeName && element.nodeName.toLowerCase() === name.toLowerCase();\n  }\n\n  function isArrayLike(target) {\n    return typeof target.length === 'number';\n  }\n\n  function isObjectLike(target) {\n    return typeof target === 'object' && target !== null;\n  }\n\n  function isFunction(target) {\n    return typeof target === 'function';\n  }\n\n  function isString(target) {\n    return typeof target === 'string';\n  }\n\n  function isWindow(target) {\n    return target && target === target.window;\n  }\n\n  function isDocument(target) {\n    return target && target.nodeType === target.DOCUMENT_NODE;\n  }\n\n  /**\n   * 循环数组或对象\n   * @param obj\n   * @param callback\n   * @returns {*}\n   */\n  function each(obj, callback) {\n    if (isArrayLike(obj)) {\n      for (var i = 0; i < obj.length; i += 1) {\n        if (callback.call(obj[i], i, obj[i]) === false) {\n          return obj;\n        }\n      }\n    } else {\n      var keys = Object.keys(obj);\n      for (var i$1 = 0; i$1 < keys.length; i$1 += 1) {\n        if (callback.call(obj[keys[i$1]], keys[i$1], obj[keys[i$1]]) === false) {\n          return obj;\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  /**\n   * 删除数组中重复元素\n   * @param arr {Array}\n   * @returns {Array}\n   */\n  function unique(arr) {\n    var result = [];\n\n    each(arr, function (i, val) {\n      if (result.indexOf(val) === -1) {\n        result.push(val);\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * 把对象合并到第一个参数中，并返回第一个参数\n   * @param first\n   * @param second\n   * @returns {*}\n   */\n  function merge(first, second) {\n    each(second, function (i, val) {\n      first.push(val);\n    });\n\n    return first;\n  }\n\n  /**\n   * 获取指定 DOM 元素，没有 index 参数时，获取所有 DOM 的数组\n   */\n  $.fn.get = function (index) {\n    return index === undefined\n      ? [].slice.call(this)\n      : this[index >= 0 ? index : index + this.length];\n  };\n\n  /**\n   * 添加匹配的元素到当前对象中\n   * @param selector {String|JQ}\n   * @returns {JQ}\n   */\n  $.fn.add = function (selector) {\n    return new JQ(unique(merge(this.get(), $(selector))));\n  };\n\n  /**\n   * 遍历对象\n   */\n  $.fn.each = function (callback) {\n    return each(this, callback);\n  };\n\n  /**\n   * addClass - 添加 CSS 类，多个类名用空格分割\n   * @param className {String}\n   * @return {JQ}\n   */\n  /**\n   * removeClass - 移除 CSS 类，多个类名用空格分割\n   * @param className {String}\n   * @return {JQ}\n   */\n  /**\n   * toggleClass - 切换 CSS 类名，多个类名用空格分割\n   * @param className {String}\n   * @return {JQ}\n   */\n  each(['add', 'remove', 'toggle'], function (nameIndex, name) {\n    $.fn[(name + \"Class\")] = function (className) {\n      if (!className) {\n        return this;\n      }\n\n      var classes = className.split(' ');\n\n      return this.each(function (i, elem) {\n        each(classes, function (j, cls) {\n          elem.classList[name](cls);\n        });\n      });\n    };\n  });\n\n  /**\n   * insertBefore - 插入到指定元素的前面\n   * @param selector {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  /**\n   * insertAfter - 插入到指定元素的后面\n   * @param selector {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  each(['insertBefore', 'insertAfter'], function (nameIndex, name) {\n    $.fn[name] = function (selector) {\n      var $elem = $(selector);\n\n      return this.each(function (i, _this) {\n        $elem.each(function (j, elem) {\n          elem.parentNode.insertBefore(\n            $elem.length === 1 ? _this : _this.cloneNode(true),\n            nameIndex === 0 ? elem : elem.nextSibling\n          );\n        });\n      });\n    };\n  });\n\n  /**\n   * 插入到指定元素后面\n   * @param selector {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  $.fn.after = function (selector) {\n    $(selector).insertAfter(this);\n    return this;\n  };\n\n  var globalOptions = {};\n\n  // 全局事件名\n  var ajaxEvents = {\n    ajaxStart: 'start.mdui.ajax',\n    ajaxSuccess: 'success.mdui.ajax',\n    ajaxError: 'error.mdui.ajax',\n    ajaxComplete: 'complete.mdui.ajax',\n  };\n\n  // 存储事件\n  var handlers = {\n    // i: { // 元素ID\n    //   j: { // 事件ID\n    //     e: 事件名\n    //     fn: 事件处理函数\n    //     i: 事件ID\n    //     proxy:\n    //     sel: 选择器\n    //   }\n    // }\n  };\n\n  // 元素ID\n  var mduiElementId = 1;\n\n  function fnFalse() {\n    return false;\n  }\n\n  /**\n   * 为元素赋予一个唯一的ID\n   * @param element\n   * @returns {number|*}\n   */\n  function getElementId(element) {\n    if (!element.mduiElementId) {\n      mduiElementId += 1;\n      element.mduiElementId = mduiElementId;\n    }\n\n    return element.mduiElementId;\n  }\n\n  /**\n   * 获取匹配的事件\n   * @param element\n   * @param eventName\n   * @param func\n   * @param selector\n   * @returns {Array}\n   */\n  function getHandlers(element, eventName, func, selector) {\n    return (handlers[getElementId(element)] || [])\n      .filter(function (handler) { return handler\n        && (!eventName || handler.e === eventName)\n        && (!func || handler.fn.toString() === func.toString())\n        && (!selector || handler.sel === selector); });\n  }\n\n  /**\n   * 添加事件监听\n   * @param element\n   * @param eventName\n   * @param func\n   * @param data\n   * @param selector\n   */\n  function add(element, eventName, func, data, selector) {\n    var elementId = getElementId(element);\n\n    if (!handlers[elementId]) {\n      handlers[elementId] = [];\n    }\n\n    // 传入 data.useCapture 来设置 useCapture: true\n    var useCapture = false;\n    if (isObjectLike(data) && data.useCapture) {\n      useCapture = true;\n    }\n\n    eventName.split(' ').forEach(function (event) {\n      var handler = {\n        e: event,\n        fn: func,\n        sel: selector,\n        i: handlers[elementId].length,\n      };\n\n      function callFn(e, elem) {\n        // 因为鼠标事件模拟事件的 detail 属性是只读的，因此在 e._detail 中存储参数\n        /* eslint no-underscore-dangle: 0 */\n        var result = func.apply(elem, e._detail === undefined ? [e] : [e].concat(e._detail));\n\n        if (result === false) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n\n      function proxyfn(e) {\n        e._data = data;\n\n        if (selector) {\n          // 事件代理\n          $(element)\n            .find(selector)\n            .get()\n            .reverse()\n            .forEach(function (elem) {\n              if (elem === e.target || $.contains(elem, e.target)) {\n                callFn(e, elem);\n              }\n            });\n        } else {\n          // 不使用事件代理\n          callFn(e, element);\n        }\n      }\n\n      handler.proxy = proxyfn;\n      handlers[elementId].push(handler);\n      element.addEventListener(handler.e, proxyfn, useCapture);\n    });\n  }\n\n  /**\n   * 移除事件监听\n   * @param element\n   * @param eventName\n   * @param func\n   * @param selector\n   */\n  function remove(element, eventName, func, selector) {\n    (eventName || '').split(' ').forEach(function (event) {\n      getHandlers(element, event, func, selector).forEach(function (handler) {\n        delete handlers[getElementId(element)][handler.i];\n        element.removeEventListener(handler.e, handler.proxy, false);\n      });\n    });\n  }\n\n  /**\n   * 取消绑定事件\n   *\n   * $().off(eventName, selector);\n   * $().off(eventName, callback);\n   * $().off(eventName, false);\n   */\n  $.fn.off = function (eventName, selector, callback) {\n    var self = this;\n\n    // event 使用 事件:函数 键值对\n    // event = {\n    //   'event1': callback1,\n    //   'event2': callback2\n    // }\n    //\n    // $().off(event, selector)\n    if (eventName && !isString(eventName)) {\n      each(eventName, function (type, fn) {\n        self.off(type, selector, fn);\n      });\n\n      return self;\n    }\n\n    // selector 不存在\n    // $().off(event, callback)\n    if (!isString(selector) && !isFunction(callback) && callback !== false) {\n      callback = selector;\n      selector = undefined;\n    }\n\n    // callback 为 false\n    // $().off(event, false)\n    if (callback === false) {\n      callback = fnFalse;\n    }\n\n    return self.each(function () {\n      remove(this, eventName, callback, selector);\n    });\n  };\n\n  /**\n   * 绑定事件\n   *\n   * $().on({eventName: fn}, selector, data);\n   * $().on({eventName: fn}, selector)\n   * $().on({eventName: fn})\n   * $().on(eventName, selector, data, fn);\n   * $().on(eventName, selector, fn);\n   * $().on(eventName, data, fn);\n   * $().on(eventName, fn);\n   * $().on(eventName, false);\n   *\n   * @param eventName\n   * @param selector\n   * @param data\n   * @param callback\n   * @param one 是否是 one 方法，只在 JQ 内部使用\n   * @returns\n   */\n  $.fn.on = function (eventName, selector, data, callback, one) {\n    var self = this;\n\n    // 默认\n    // $().on(event, selector, data, callback)\n\n    // event 使用 事件:函数 键值对\n    // event = {\n    //   'event1': callback1,\n    //   'event2': callback2\n    // }\n    //\n    // $().on(event, selector, data)\n    if (eventName && !isString(eventName)) {\n      each(eventName, function (type, fn) {\n        self.on(type, selector, data, fn);\n      });\n\n      return self;\n    }\n\n    // selector 不存在\n    // $().on(event, data, callback)\n    if (!isString(selector) && !isFunction(callback) && callback !== false) {\n      callback = data;\n      data = selector;\n      selector = undefined;\n    }\n\n    // data 不存在\n    // $().on(event, callback)\n    if (isFunction(data) || data === false) {\n      callback = data;\n      data = undefined;\n    }\n\n    // callback 为 false\n    // $().on(event, false)\n    if (callback === false) {\n      callback = fnFalse;\n    }\n\n    if (one === 1) {\n      var origCallback = callback;\n      callback = function () {\n        self.off(eventName, selector, callback);\n        /* eslint prefer-rest-params: 0 */\n        return origCallback.apply(this, arguments);\n      };\n    }\n\n    return this.each(function () {\n      add(this, eventName, callback, data, selector);\n    });\n  };\n\n  // 监听全局事件\n  //\n  // 通过 $(document).on('success.mdui.ajax', function (event, params) {}) 调用时，包含两个参数\n  // event: 事件对象\n  // params: {\n  //   xhr: XMLHttpRequest 对象\n  //   options: ajax 请求的配置参数\n  //   data: ajax 请求返回的数据\n  // }\n\n  // 全局 Ajax 事件快捷方法\n  // $(document).ajaxStart(function (event, xhr, options) {})\n  // $(document).ajaxSuccess(function (event, xhr, options, data) {})\n  // $(document).ajaxError(function (event, xhr, options) {})\n  // $(document).ajaxComplete(function (event, xhr, options) {})\n  each(ajaxEvents, function (name, eventName) {\n    $.fn[name] = function (fn) {\n      return this.on(eventName, function (e, params) {\n        fn(e, params.xhr, params.options, params.data);\n      });\n    };\n  });\n\n  /**\n   * append - 在元素内部追加内容\n   * @param newChild {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  /**\n   * prepend - 在元素内部前置内容\n   * @param newChild {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  each(['append', 'prepend'], function (nameIndex, name) {\n    $.fn[name] = function (newChild) {\n      var newChilds;\n      var copyByClone = this.length > 1;\n\n      if (isString(newChild) && (newChild[0] !== '<' || newChild[newChild.length - 1] !== '>')) {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n        newChilds = [].slice.call(tempDiv.childNodes);\n      } else {\n        newChilds = $(newChild).get();\n      }\n\n      if (nameIndex === 1) {\n        // prepend\n        newChilds.reverse();\n      }\n\n      return this.each(function (i, _this) {\n        each(newChilds, function (j, child) {\n          // 一个元素要同时追加到多个元素中，需要先复制一份，然后追加\n          if (copyByClone && i > 0) {\n            child = child.cloneNode(true);\n          }\n\n          if (nameIndex === 0) {\n            // append\n            _this.appendChild(child);\n          } else {\n            // prepend\n            _this.insertBefore(child, _this.childNodes[0]);\n          }\n        });\n      });\n    };\n  });\n\n  /**\n   * 追加到指定元素内容\n   * @param selector {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  $.fn.appendTo = function (selector) {\n    $(selector).append(this);\n    return this;\n  };\n\n  /**\n   * attr - 获取或设置元素的属性值\n   * @param {name|props|key,value=}\n   * @return {String|JQ}\n   */\n  /**\n   * prop - 获取或设置元素的属性值\n   * @param {name|props|key,value=}\n   * @return {String|JQ}\n   */\n  /**\n   * css - 获取或设置元素的样式\n   * @param {name|props|key,value=}\n   * @return {String|JQ}\n   */\n  each(['attr', 'prop', 'css'], function (nameIndex, name) {\n    function set(elem, key, value) {\n      if (nameIndex === 0) {\n        elem.setAttribute(key, value);\n      } else if (nameIndex === 1) {\n        elem[key] = value;\n      } else {\n        elem.style[key] = value;\n      }\n    }\n\n    function get(elem, key) {\n      if (!elem) {\n        return undefined;\n      }\n\n      if (nameIndex === 0) {\n        return elem.getAttribute(key);\n      }\n\n      if (nameIndex === 1) {\n        return elem[key];\n      }\n\n      return window.getComputedStyle(elem, null).getPropertyValue(key);\n    }\n\n    $.fn[name] = function (key, value) {\n      var argLength = arguments.length;\n\n      if (argLength === 1 && isString(key)) {\n        // 获取值\n        return get(this[0], key);\n      }\n\n      // 设置值\n      return this.each(function (i, elem) {\n        if (argLength === 2) {\n          set(elem, key, value);\n        } else {\n          each(key, function (k, v) {\n            set(elem, k, v);\n          });\n        }\n      });\n    };\n  });\n\n  /**\n   * 插入到指定元素前面\n   * @param selector {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  $.fn.before = function (selector) {\n    $(selector).insertBefore(this);\n    return this;\n  };\n\n  /**\n   * 找到直接子元素的元素集合\n   * @param selector {String=}\n   * @returns {JQ}\n   */\n  $.fn.children = function (selector) {\n    var children = [];\n\n    this.each(function (_, _this) {\n      each(_this.childNodes, function (__, childNode) {\n        if (childNode.nodeType !== 1) {\n          return;\n        }\n\n        if (!selector || (selector && $(childNode).is(selector))) {\n          children.push(childNode);\n        }\n      });\n    });\n\n    return new JQ(unique(children));\n  };\n\n  /**\n   * 遍历数组或对象，通过函数返回一个新的数组或对象，null 和 undefined 将被过滤掉。\n   * @param elements\n   * @param callback\n   * @returns {Array}\n   */\n  function map(elements, callback) {\n    var ref;\n\n    var value;\n    var ret = [];\n\n    each(elements, function (i, element) {\n      value = callback(element, i);\n\n      if (value !== null && value !== undefined) {\n        ret.push(value);\n      }\n    });\n\n    return (ref = []).concat.apply(ref, ret);\n  }\n\n  /**\n   * 通过遍历集合中的节点对象，通过函数返回一个新的对象，null 或 undefined 将被过滤掉。\n   */\n  $.fn.map = function (callback) {\n    return new JQ(map(this, function (el, i) { return callback.call(el, i, el); }));\n  };\n\n  /**\n   * 通过深度克隆来复制集合中的所有元素。\n   * (通过原生 cloneNode 方法深度克隆来复制集合中的所有元素。此方法不会有数据和事件处理程序复制到新的元素。这点和jquery中利用一个参数来确定是否复制数据和事件处理不相同。)\n   * @returns {JQ}\n   */\n  $.fn.clone = function () {\n    return this.map(function () {\n      return this.cloneNode(true);\n    });\n  };\n\n  /**\n   * 根据选择器、DOM元素或 JQ 对象来检测匹配元素集合，\n   * 如果其中至少有一个元素符合这个给定的表达式就返回true\n   * @param selector {String|Node|NodeList|Array|JQ|Window}\n   * @returns boolean\n   */\n  $.fn.is = function (selector) {\n    var self = this[0];\n\n    if (!self || selector === undefined || selector === null) {\n      return false;\n    }\n\n    if (isString(selector)) {\n      if (self === document || self === window) {\n        return false;\n      }\n\n      var matchesSelector = self.matches\n        || self.matchesSelector\n        || self.webkitMatchesSelector\n        || self.mozMatchesSelector\n        || self.oMatchesSelector\n        || self.msMatchesSelector;\n\n      return matchesSelector.call(self, selector);\n    }\n\n    if (selector === document || selector === window) {\n      return self === selector;\n    }\n\n    if (selector.nodeType || isArrayLike(selector)) {\n      var $compareWith = selector.nodeType ? [selector] : selector;\n\n      for (var i = 0; i < $compareWith.length; i += 1) {\n        if ($compareWith[i] === self) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    return false;\n  };\n\n  function dir(nodes, selector, nameIndex, node) {\n    var ret = [];\n    var elem;\n\n    nodes.each(function (j, _this) {\n      elem = _this[node];\n      while (elem) {\n        if (nameIndex === 2) {\n          // prevUntil\n          if (!selector || (selector && $(elem).is(selector))) {\n            break;\n          }\n\n          ret.push(elem);\n        } else if (nameIndex === 0) {\n          // prev\n          if (!selector || (selector && $(elem).is(selector))) {\n            ret.push(elem);\n          }\n\n          break;\n        } else if (!selector || (selector && $(elem).is(selector))) {\n          // prevAll\n          ret.push(elem);\n        }\n\n        elem = elem[node];\n      }\n    });\n\n    return new JQ(unique(ret));\n  }\n\n  /**\n   * parent - 取得匹配的直接父元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  /**\n   * parents - 取得所有匹配的父元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  /**\n   * parentUntil - 取得所有的父元素，直到遇到匹配的元素，不包含匹配的元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  each(['', 's', 'sUntil'], function (nameIndex, name) {\n    $.fn[(\"parent\" + name)] = function (selector) {\n      // parents、parentsUntil 需要把元素的顺序反向处理，以便和 jQuery 的结果一致\n      var $nodes = nameIndex === 0 ? this : $(this.get().reverse());\n\n      return dir($nodes, selector, nameIndex, 'parentNode');\n    };\n  });\n\n  /**\n   * array 中提取的方法。从 start 开始，如果 end 指出。提取不包含 end 位置的元素。\n   */\n  $.fn.slice = function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    return new JQ([].slice.apply(this, args));\n  };\n\n  /**\n   * 获取当前对象中第n个元素\n   * @param index {Number}\n   * @returns {JQ}\n   */\n  $.fn.eq = function (index) {\n    var ret = index === -1\n      ? this.slice(index)\n      : this.slice(index, +index + 1);\n\n    return new JQ(ret);\n  };\n\n  /**\n   * 返回首先匹配到的父节点，包含父节点\n   * @param selector {String}\n   * @returns {JQ}\n   */\n  $.fn.closest = function (selector) {\n    var self = this;\n\n    if (!self.is(selector)) {\n      self = self.parents(selector).eq(0);\n    }\n\n    return self;\n  };\n\n  var dataNS = 'mduiElementDataStorage';\n\n  /**\n   * 在指定元素上存储数据，或从指定元素上读取数据\n   * @param elem 必须， DOM 元素\n   * @param key 必须，键名\n   * @param value 可选，值\n   */\n  function data(elem, key, value) {\n    var storage = {};\n\n    if (value !== undefined) {\n      // 根据 key、value 设置值\n      storage[key] = value;\n    } else if (isObjectLike(key)) {\n      // 根据键值对设置值\n      storage = key;\n    } else if (key === undefined) {\n      // 获取所有值\n      var result = {};\n\n      each(elem.attributes, function (i, attribute) {\n        var name = attribute.name;\n\n        if (name.indexOf('data-') === 0) {\n          var prop = name.slice(5).replace(/-./g, function (u) { return u.charAt(1).toUpperCase(); });\n\n          result[prop] = attribute.value;\n        }\n      });\n\n      if (elem[dataNS]) {\n        each(elem[dataNS], function (k, v) {\n          result[k] = v;\n        });\n      }\n\n      return result;\n    } else if (elem[dataNS] && (key in elem[dataNS])) {\n      // 获取指定值\n      return elem[dataNS][key];\n    } else {\n      // 从 data- 中获取指定值\n      var dataKey = elem.getAttribute((\"data-\" + key));\n\n      if (dataKey) {\n        return dataKey;\n      }\n\n      return undefined;\n    }\n\n    // 设置值\n    if (!elem[dataNS]) {\n      elem[dataNS] = {};\n    }\n\n    each(storage, function (k, v) {\n      elem[dataNS][k] = v;\n    });\n\n    return undefined;\n  }\n\n  /**\n   * 在元素上读取或设置数据\n   * @param key 必须\n   * @param value\n   * @returns {*}\n   */\n  $.fn.data = function (key, value) {\n    if (value === undefined) {\n      if (isObjectLike(key)) {\n        // 同时设置多个值\n        return this.each(function (i, elem) {\n          data(elem, key);\n        });\n      }\n\n      if (this[0]) {\n        // 获取值\n        return data(this[0], key);\n      }\n\n      return undefined;\n    }\n\n    // 设置值\n    return this.each(function (i, elem) {\n      data(elem, key, value);\n    });\n  };\n\n  /**\n   * 删除子节点\n   * @returns {JQ}\n   */\n  $.fn.empty = function () {\n    return this.each(function () {\n      this.innerHTML = '';\n    });\n  };\n\n  /**\n   * 筛选元素集合\n   * @param selector {String|JQ|Node|Function}\n   * @returns {JQ}\n   */\n  $.fn.filter = function (selector) {\n    if (isFunction(selector)) {\n      return this.map(function (index, ele) { return (selector.call(ele, index, ele) ? ele : undefined); });\n    }\n\n    var $selector = $(selector);\n\n    return this.map(function (index, ele) { return ($selector.index(ele) > -1 ? ele : undefined); });\n  };\n\n  /**\n   * 根据 CSS 选择器找到后代节点的集合\n   * @param selector {String}\n   * @returns {JQ}\n   */\n  $.fn.find = function (selector) {\n    var foundElements = [];\n\n    this.each(function (i, _this) {\n      var nodeType = _this.nodeType;\n\n      if (nodeType !== 1 && nodeType !== 9) {\n        // 不是 element 和 document 则跳过\n        return;\n      }\n\n      merge(foundElements, _this.querySelectorAll(selector));\n    });\n\n    return new JQ(foundElements);\n  };\n\n  /**\n   * 获取对象中第一个元素\n   * @returns {JQ}\n   */\n  $.fn.first = function () {\n    return this.eq(0);\n  };\n\n  /**\n   * 一个 DOM 节点是否包含另一个 DOM 节点\n   * @param parent {Node} 父节点\n   * @param node {Node} 子节点\n   * @returns {Boolean}\n   */\n  function contains(parent, node) {\n    if (parent && !node) {\n      return document.documentElement.contains(parent);\n    }\n\n    return parent !== node && parent.contains(node);\n  }\n\n  /**\n   * 保留含有指定子元素的元素，去掉不含有指定子元素的元素\n   * @param selector {String|Node|JQ|NodeList|Array}\n   * @return {JQ}\n   */\n  $.fn.has = function (selector) {\n    var $targets = isString(selector) ? this.find(selector) : $(selector);\n    var length = $targets.length;\n\n    return this.filter(function () {\n      for (var i = 0; i < length; i += 1) {\n        if (contains(this, $targets[i])) {\n          return true;\n        }\n      }\n\n      return false;\n    });\n  };\n\n  /**\n   * 是否含有指定的 CSS 类\n   * @param className {String}\n   * @returns {boolean}\n   */\n  $.fn.hasClass = function (className) {\n    if (!this[0] || !className) {\n      return false;\n    }\n\n    return this[0].classList.contains(className);\n  };\n\n  /**\n   * width - 获取元素的宽度\n   * @return {Number}\n   */\n  /**\n   * height - 获取元素的高度\n   * @return {Number}\n   */\n  each({\n    Width: 'width',\n    Height: 'height',\n  }, function (prop, name) {\n    $.fn[name] = function (val) {\n      if (val === undefined) {\n        // 获取\n        var elem = this[0];\n\n        if (isWindow(elem)) {\n          return elem[(\"inner\" + prop)];\n        }\n\n        if (isDocument(elem)) {\n          return elem.documentElement[(\"scroll\" + prop)];\n        }\n\n        var $elem = $(elem);\n\n        // IE10、IE11 在 box-sizing:border-box 时，不会包含 padding 和 border，这里进行修复\n        var IEFixValue = 0;\n        var isWidth = name === 'width';\n        if ('ActiveXObject' in window) { // 判断是 IE 浏览器\n          if ($elem.css('box-sizing') === 'border-box') {\n            IEFixValue = parseFloat($elem.css((\"padding-\" + (isWidth ? 'left' : 'top'))))\n              + parseFloat($elem.css((\"padding-\" + ((isWidth ? 'right' : 'bottom')))))\n              + parseFloat($elem.css((\"border-\" + (isWidth ? 'left' : 'top') + \"-width\")))\n              + parseFloat($elem.css((\"border-\" + (isWidth ? 'right' : 'bottom') + \"-width\")));\n          }\n        }\n\n        return parseFloat($(elem).css(name)) + IEFixValue;\n      }\n\n      // 设置\n      /* eslint no-restricted-globals: 0 */\n      if (!isNaN(Number(val)) && val !== '') {\n        val += 'px';\n      }\n\n      return this.css(name, val);\n    };\n  });\n\n  /**\n   * 隐藏指定元素\n   * @returns {JQ}\n   */\n  $.fn.hide = function () {\n    return this.each(function () {\n      this.style.display = 'none';\n    });\n  };\n\n  /**\n   * val - 获取或设置元素的值\n   * @param value {String=}\n   * @return {*|JQ}\n   */\n  /**\n   * html - 获取或设置元素的 HTML\n   * @param value {String=}\n   * @return {*|JQ}\n   */\n  /**\n   * text - 获取或设置元素的内容\n   * @param value {String=}\n   * @return {*|JQ}\n   */\n  each(['val', 'html', 'text'], function (nameIndex, name) {\n    var props = {\n      0: 'value',\n      1: 'innerHTML',\n      2: 'textContent',\n    };\n\n    var defaults = {\n      0: undefined,\n      1: undefined,\n      2: null,\n    };\n\n    $.fn[name] = function (value) {\n      if (value === undefined) {\n        // 获取值\n        return this[0] ? this[0][props[nameIndex]] : defaults[nameIndex];\n      }\n\n      // 设置值\n      return this.each(function (i, elem) {\n        elem[props[nameIndex]] = value;\n      });\n    };\n  });\n\n  /**\n   * 获取一个元素的位置。\n   * 当 elem 参数没有给出时，返回当前元素在兄弟节点中的位置。\n   * 有给出了 elem 参数时，返回 elem 元素在当前对象中的位置\n   * @param elem {selector|Node=}\n   * @returns {Number}\n   */\n  $.fn.index = function (elem) {\n    if (!elem) {\n      // 获取当前 JQ 对象的第一个元素在同辈元素中的位置\n      return this\n        .eq(0)\n        .parent()\n        .children()\n        .get()\n        .indexOf(this[0]);\n    }\n\n    if (isString(elem)) {\n      // 返回当前 JQ 对象的第一个元素在指定选择器对应的元素中的位置\n      return $(elem)\n        .eq(0)\n        .parent()\n        .children()\n        .get()\n        .indexOf(this[0]);\n    }\n\n    // 返回指定元素在当前 JQ 对象中的位置\n    return this\n      .get()\n      .indexOf(elem);\n  };\n\n  /**\n   * innerWidth - 获取元素的宽度，包含内边距\n   * @return {Number}\n   */\n  /**\n   * innerHeight - 获取元素的高度，包含内边距\n   * @return {Number}\n   */\n  each({\n    Width: 'width',\n    Height: 'height',\n  }, function (prop, name) {\n    $.fn[(\"inner\" + prop)] = function () {\n      var value = this[name]();\n      var $elem = $(this[0]);\n\n      if ($elem.css('box-sizing') !== 'border-box') {\n        value += parseFloat($elem.css((\"padding-\" + (name === 'width' ? 'left' : 'top'))));\n        value += parseFloat($elem.css((\"padding-\" + (name === 'width' ? 'right' : 'bottom'))));\n      }\n\n      return value;\n    };\n  });\n\n  /**\n   * 获取对象中最后一个元素\n   * @returns {JQ}\n   */\n  $.fn.last = function () {\n    return this.eq(-1);\n  };\n\n  /**\n   * next - 取得后一个匹配的元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  /**\n   * nextAll - 取得后面所有匹配的元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  /**\n   * nextUntil - 取得后面所有匹配的元素，直到遇到匹配的元素，不包含匹配的元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  each(['', 'All', 'Until'], function (nameIndex, name) {\n    $.fn[(\"next\" + name)] = function (selector) {\n      return dir(this, selector, nameIndex, 'nextElementSibling');\n    };\n  });\n\n  /**\n   * 从元素集合中删除指定的元素\n   * @param selector {String|Node|JQ|Function}\n   * @return {JQ}\n   */\n  $.fn.not = function (selector) {\n    var $excludes = this.filter(selector);\n\n    return this.map(function (index, ele) { return ($excludes.index(ele) > -1 ? undefined : ele); });\n  };\n\n  /**\n   * 获取元素相对于 document 的偏移\n   * @returns {Object}\n   */\n  $.fn.offset = function () {\n    if (this[0]) {\n      var offset = this[0].getBoundingClientRect();\n\n      return {\n        left: offset.left + window.pageXOffset,\n        top: offset.top + window.pageYOffset,\n        width: offset.width,\n        height: offset.height,\n      };\n    }\n\n    return null;\n  };\n\n  /**\n   * 返回最近的用于定位的父元素\n   * @returns {*|JQ}\n   */\n  $.fn.offsetParent = function () {\n    return this.map(function () {\n      var parent = this.offsetParent;\n\n      while (parent && $(parent).css('position') === 'static') {\n        parent = parent.offsetParent;\n      }\n\n      return parent || document.documentElement;\n    });\n  };\n\n  /**\n   * 绑定事件，只触发一次\n   * @param eventName\n   * @param selector\n   * @param data\n   * @param callback\n   */\n  $.fn.one = function (eventName, selector, data, callback) {\n    var self = this;\n\n    if (!isString(eventName)) {\n      each(eventName, function (type, fn) {\n        type.split(' ').forEach(function (eName) {\n          self.on(eName, selector, data, fn, 1);\n        });\n      });\n    } else {\n      eventName.split(' ').forEach(function (eName) {\n        self.on(eName, selector, data, callback, 1);\n      });\n    }\n\n    return this;\n  };\n\n  /**\n   * 获取元素相对于父元素的偏移\n   * @return {Object}\n   */\n  $.fn.position = function () {\n    var self = this;\n\n    if (!self[0]) {\n      return null;\n    }\n\n    var offsetParent;\n    var offset;\n    var parentOffset = {\n      top: 0,\n      left: 0,\n    };\n\n    if (self.css('position') === 'fixed') {\n      offset = self[0].getBoundingClientRect();\n    } else {\n      offsetParent = self.offsetParent();\n      offset = self.offset();\n      if (!isNodeName(offsetParent[0], 'html')) {\n        parentOffset = offsetParent.offset();\n      }\n\n      parentOffset = {\n        top: parentOffset.top + offsetParent.css('borderTopWidth'),\n        left: parentOffset.left + offsetParent.css('borderLeftWidth'),\n      };\n    }\n\n    return {\n      top: offset.top - parentOffset.top - self.css('marginTop'),\n      left: offset.left - parentOffset.left - self.css('marginLeft'),\n      width: offset.width,\n      height: offset.height,\n    };\n  };\n\n  /**\n   * 前置到指定元素内部\n   * @param selector {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  $.fn.prependTo = function (selector) {\n    $(selector).prepend(this);\n    return this;\n  };\n\n  /**\n   * prev - 取得前一个匹配的元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  /**\n   * prevAll - 取得前面所有匹配的元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  /**\n   * prevUntil - 取得前面的所有元素，直到遇到匹配的元素，不包含匹配的元素\n   * @param selector {String=}\n   * @return {JQ}\n   */\n  each(['', 'All', 'Until'], function (nameIndex, name) {\n    $.fn[(\"prev\" + name)] = function (selector) {\n      // prevAll、prevUntil 需要把元素的顺序倒序处理，以便和 jQuery 的结果一致\n      var $nodes = nameIndex === 0 ? this : $(this.get().reverse());\n\n      return dir($nodes, selector, nameIndex, 'previousElementSibling');\n    };\n  });\n\n  /**\n   * 删除所有匹配的元素\n   * @returns {JQ}\n   */\n  $.fn.remove = function () {\n    return this.each(function (i, _this) {\n      if (_this.parentNode) {\n        _this.parentNode.removeChild(_this);\n      }\n    });\n  };\n\n  /**\n   * 移除指定属性\n   * @param attr {String}\n   * @returns {JQ}\n   */\n  $.fn.removeAttr = function (attr) {\n    return this.each(function () {\n      this.removeAttribute(attr);\n    });\n  };\n\n  /**\n   * 移除指定元素上存放的数据\n   * @param elem 必须，DOM 元素\n   * @param key 必须，键名\n   */\n  function removeData(elem, key) {\n    if (elem[dataNS] && elem[dataNS][key]) {\n      elem[dataNS][key] = null;\n      delete elem[dataNS][key];\n    }\n  }\n\n  /**\n   * 移除元素上存储的数据\n   * @param key 必须\n   * @returns {*}\n   */\n  $.fn.removeData = function (key) {\n    return this.each(function (i, elem) {\n      removeData(elem, key);\n    });\n  };\n\n  /**\n   * 删除属性值\n   * @param name {String}\n   * @returns {JQ}\n   */\n  $.fn.removeProp = function (name) {\n    return this.each(function () {\n      try {\n        delete this[name];\n      } catch (e) {\n        // empty\n      }\n    });\n  };\n\n  /**\n   * 用新元素替换当前元素\n   * @param newContent {String|Node|NodeList|JQ}\n   * @returns {JQ}\n   */\n  $.fn.replaceWith = function (newContent) {\n    return this.before(newContent).remove();\n  };\n\n  /**\n   * replaceAll - 替换掉指定元素\n   * @param selector {String|Node|NodeList|JQ}\n   * @return {JQ}\n   */\n  $.fn.replaceAll = function (selector) {\n    $(selector).replaceWith(this);\n    return this;\n  };\n\n  /**\n   * 将表单元素的值组合成键值对数组\n   * @returns {Array}\n   */\n  $.fn.serializeArray = function () {\n    var result = [];\n    var elem = this[0];\n\n    if (!elem || !elem.elements) {\n      return result;\n    }\n\n    $([].slice.call(elem.elements)).each(function () {\n      var $elem = $(this);\n      var type = $elem.attr('type');\n      if (\n        this.nodeName.toLowerCase() !== 'fieldset'\n        && !this.disabled\n        && ['submit', 'reset', 'button'].indexOf(type) === -1\n        && (['radio', 'checkbox'].indexOf(type) === -1 || this.checked)\n      ) {\n        result.push({\n          name: $elem.attr('name'),\n          value: $elem.val(),\n        });\n      }\n    });\n\n    return result;\n  };\n\n  /**\n   * 将表单元素或对象序列化\n   * @returns {String}\n   */\n  $.fn.serialize = function () {\n    var result = [];\n\n    each(this.serializeArray(), function (i, elem) {\n      result.push(((encodeURIComponent(elem.name)) + \"=\" + (encodeURIComponent(elem.value))));\n    });\n\n    return result.join('&');\n  };\n\n  var elementDisplay = {};\n\n  /**\n   * 获取元素的默认 display 样式值，用于 .show() 方法\n   * @param nodeName\n   * @returns {*}\n   */\n  function defaultDisplay(nodeName) {\n    var element;\n    var display;\n\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName);\n      document.body.appendChild(element);\n      display = getComputedStyle(element, '').getPropertyValue('display');\n      element.parentNode.removeChild(element);\n      if (display === 'none') {\n        display = 'block';\n      }\n\n      elementDisplay[nodeName] = display;\n    }\n\n    return elementDisplay[nodeName];\n  }\n\n  /**\n   * 显示指定元素\n   * @returns {JQ}\n   */\n  $.fn.show = function () {\n    return this.each(function () {\n      if (this.style.display === 'none') {\n        this.style.display = '';\n      }\n\n      if (window.getComputedStyle(this, '').getPropertyValue('display') === 'none') {\n        this.style.display = defaultDisplay(this.nodeName);\n      }\n    });\n  };\n\n  /**\n   * 取得同辈元素的集合\n   * @param selector {String=}\n   * @returns {JQ}\n   */\n  $.fn.siblings = function (selector) {\n    return this.prevAll(selector).add(this.nextAll(selector));\n  };\n\n  /**\n   * 切换元素的显示状态\n   * @returns {JQ}\n   */\n  $.fn.toggle = function () {\n    return this.each(function () {\n      this.style.display = this.style.display === 'none' ? '' : 'none';\n    });\n  };\n\n  /**\n   * 触发一个事件\n   * @param eventName\n   * @param data\n   * @returns {*|JQ}\n   */\n  $.fn.trigger = function (eventName, data) {\n    var isMouseEvent = ['click', 'mousedown', 'mouseup', 'mousemove'].indexOf(eventName) > -1;\n    var evt;\n\n    if (isMouseEvent) {\n      // Note: MouseEvent 无法传入 detail 参数\n      evt = new MouseEvent(eventName, {\n        bubbles: true,\n        cancelable: true,\n      });\n    } else {\n      evt = new CustomEvent(eventName, {\n        detail: data,\n        bubbles: true,\n        cancelable: true,\n      });\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    evt._detail = data;\n\n    return this.each(function () {\n      this.dispatchEvent(evt);\n    });\n  };\n\n  /**\n   * 将数组或对象序列化\n   * @param obj\n   * @returns {String}\n   */\n  function param(obj) {\n    if (!isObjectLike(obj)) {\n      return '';\n    }\n\n    var args = [];\n\n    function destructure(key, value) {\n      var keyTmp;\n\n      if (isObjectLike(value)) {\n        each(value, function (i, v) {\n          if (Array.isArray(value) && !isObjectLike(v)) {\n            keyTmp = '';\n          } else {\n            keyTmp = i;\n          }\n\n          destructure((key + \"[\" + keyTmp + \"]\"), v);\n        });\n      } else {\n        if (value !== null && value !== '') {\n          keyTmp = \"=\" + (encodeURIComponent(value));\n        } else {\n          keyTmp = '';\n        }\n\n        args.push(encodeURIComponent(key) + keyTmp);\n      }\n    }\n\n    each(obj, destructure);\n\n    return args.join('&');\n  }\n\n  // import 'promise-polyfill/src/polyfill';\n\n  var jsonpID = 0;\n\n  // 回调函数\n  var ajaxCallbacks = {\n    beforeSend: 'beforeSend',\n    success: 'success',\n    error: 'error',\n    complete: 'complete',\n  };\n\n  // 回调函数名\n  var callbackNames = [\n    ajaxCallbacks.beforeSend,\n    ajaxCallbacks.success,\n    ajaxCallbacks.error,\n    ajaxCallbacks.complete,\n    'statusCode' ];\n\n  /**\n   * 判断此请求方法是否通过查询字符串提交参数\n   * @param method 请求方法，大写\n   * @returns {boolean}\n   */\n  function isQueryStringData(method) {\n    return ['GET', 'HEAD'].indexOf(method) >= 0;\n  }\n\n  /**\n   * 添加参数到 URL 上，且 URL 中不存在 ? 时，自动把第一个 & 替换为 ?\n   * @param url\n   * @param query 参数 key=value\n   * @returns {string}\n   */\n  function appendQuery(url, query) {\n    return ((url + \"&\" + query)).replace(/[&?]{1,2}/, '?');\n  }\n\n  /**\n   * 发送 ajax 请求\n   * @param options\n   */\n  function ajax(options) {\n    // 配置参数\n    var defaults = {\n      method: 'GET', // 请求方式\n      data: false, // 请求的数据，查询字符串或对象\n      processData: true, // 是否把数据转换为查询字符串发送，为 false 时不进行自动转换。\n      async: true, // 是否为异步请求\n      cache: true, // 是否从缓存中读取，只对 GET/HEAD 请求有效，dataType 为 jsonp 时为 false\n      username: '', // HTTP 访问认证的用户名\n      password: '', // HTTP 访问认证的密码\n      headers: {}, // 一个键值对，随着请求一起发送\n      xhrFields: {}, // 设置 XHR 对象\n      statusCode: {}, // 一个 HTTP 代码和函数的对象\n      dataType: 'text', // 预期服务器返回的数据类型 text、json、jsonp\n      timeout: 0, // 设置请求超时时间（毫秒）\n      global: true, // 是否在 document 上触发全局 ajax 事件\n      contentType: 'application/x-www-form-urlencoded', // 发送信息至服务器时内容编码类型\n      jsonp: 'callback', // jsonp 请求的回调函数名称\n      jsonpCallback: function () { // （string 或 Function）使用指定的回调函数名代替自动生成的回调函数名\n        jsonpID += 1;\n\n        return (\"mduijsonp_\" + (Date.now()) + \"_\" + jsonpID);\n      },\n      // beforeSend:  function (XMLHttpRequest) 请求发送前执行，返回 false 可取消本次 ajax 请求\n      // success:     function (data, statusText, XMLHttpRequest) 请求成功时调用\n      // error:       function (XMLHttpRequest, statusText) 请求失败时调用\n      // statusCode:  {404: function ()}\n      //              200-299之间的状态码表示成功，参数和 success 回调一样；其他状态码表示失败，参数和 error 回调一样\n      // complete:    function (XMLHttpRequest, statusText) 请求完成后回调函数 (请求成功或失败之后均调用)\n    };\n\n    // 是否已取消请求\n    var isCanceled = false;\n\n    // 保存全局配置\n    var globals = globalOptions;\n\n    // 事件参数\n    var eventParams = {};\n\n    // 合并全局参数到默认参数，全局回调函数不覆盖\n    each(globals, function (key, value) {\n      if (callbackNames.indexOf(key) < 0) {\n        defaults[key] = value;\n      }\n    });\n\n    // 参数合并\n    options = $.extend({}, defaults, options);\n\n    /**\n     * 触发全局事件\n     * @param event string 事件名\n     * @param xhr XMLHttpRequest 事件参数\n     */\n    function triggerEvent(event, xhr) {\n      if (options.global) {\n        $(document).trigger(event, xhr);\n      }\n    }\n\n    /**\n     * 触发 XHR 回调和事件\n     * @param callback string 回调函数名称\n     * @param args\n     */\n    function triggerCallback(callback) {\n      var args = [], len = arguments.length - 1;\n      while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n      var result1;\n      var result2;\n\n      if (callback) {\n        // 全局回调\n        if (callback in globals) {\n          result1 = globals[callback].apply(globals, args);\n        }\n\n        // 自定义回调\n        if (options[callback]) {\n          result2 = options[callback].apply(options, args);\n        }\n\n        // beforeSend 回调返回 false 时取消 ajax 请求\n        if (callback === ajaxCallbacks.beforeSend && (result1 === false || result2 === false)) {\n          isCanceled = true;\n        }\n      }\n    }\n\n    // 请求方式转为大写\n    var method = options.method.toUpperCase();\n\n    // 默认使用当前页面 URL\n    if (!options.url) {\n      options.url = window.location.toString();\n    }\n\n    // 需要发送的数据\n    // GET/HEAD 请求和 processData 为 true 时，转换为查询字符串格式，特殊格式不转换\n    var sendData = options.data;\n    if (\n      (isQueryStringData(method) || options.processData)\n      && options.data\n      && !isString(options.data)\n      && [ArrayBuffer, Blob, Document, FormData].indexOf(options.data.constructor) < 0\n    ) {\n      sendData = param(options.data);\n    }\n\n    // 对于 GET、HEAD 类型的请求，把 data 数据添加到 URL 中\n    if (isQueryStringData(method) && sendData) {\n      // 查询字符串拼接到 URL 中\n      options.url = appendQuery(options.url, sendData);\n      sendData = null;\n    }\n\n    // JSONP 请求\n    function JSONP() {\n      return new Promise(function (resolve, reject) {\n        // URL 中添加自动生成的回调函数名\n        var callbackName = isFunction(options.jsonpCallback)\n          ? options.jsonpCallback()\n          : options.jsonpCallback;\n        var requestUrl = appendQuery(options.url, ((options.jsonp) + \"=\" + callbackName));\n\n        eventParams.options = options;\n\n        triggerEvent(ajaxEvents.ajaxStart, eventParams);\n        triggerCallback(ajaxCallbacks.beforeSend, null);\n\n        if (isCanceled) {\n          reject(new Error('cancel'));\n\n          return undefined;\n        }\n\n        var abortTimeout;\n\n        // 创建 script\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n\n        // 创建 script 失败\n        script.onerror = function () {\n          if (abortTimeout) {\n            clearTimeout(abortTimeout);\n          }\n\n          var statusText = 'scripterror';\n\n          triggerEvent(ajaxEvents.ajaxError, eventParams);\n          triggerCallback(ajaxCallbacks.error, null, statusText);\n\n          triggerEvent(ajaxEvents.ajaxComplete, eventParams);\n          triggerCallback(ajaxCallbacks.complete, null, statusText);\n\n          reject(new Error(statusText));\n        };\n\n        script.src = requestUrl;\n\n        // 处理\n        window[callbackName] = function (data) {\n          if (abortTimeout) {\n            clearTimeout(abortTimeout);\n          }\n\n          eventParams.data = data;\n\n          triggerEvent(ajaxEvents.ajaxSuccess, eventParams);\n          triggerCallback(ajaxCallbacks.success, data, 'success', null);\n\n          $(script).remove();\n          script = null;\n          delete window[callbackName];\n\n          resolve(data);\n        };\n\n        $('head').append(script);\n\n        if (options.timeout > 0) {\n          abortTimeout = setTimeout(function () {\n            $(script).remove();\n            script = null;\n\n            var statusText = 'timeout';\n\n            triggerEvent(ajaxEvents.ajaxError, eventParams);\n            triggerCallback(ajaxCallbacks.error, null, statusText);\n\n            reject(new Error(statusText));\n          }, options.timeout);\n        }\n\n        return undefined;\n      });\n    }\n\n    // XMLHttpRequest 请求\n    function XHR() {\n      return new Promise(function (resolve, reject) {\n        // GET/HEAD 请求的缓存处理\n        if (isQueryStringData(method) && !options.cache) {\n          options.url = appendQuery(options.url, (\"_=\" + (Date.now())));\n        }\n\n        // 创建 XHR\n        var xhr = new XMLHttpRequest();\n\n        xhr.open(method, options.url, options.async, options.username, options.password);\n\n        if (\n          options.contentType\n          || (sendData && !isQueryStringData(method) && options.contentType !== false)\n        ) {\n          xhr.setRequestHeader('Content-Type', options.contentType);\n        }\n\n        // 设置 Accept\n        if (options.dataType === 'json') {\n          xhr.setRequestHeader('Accept', 'application/json, text/javascript');\n        }\n\n        // 添加 headers\n        if (options.headers) {\n          each(options.headers, function (key, value) {\n            xhr.setRequestHeader(key, value);\n          });\n        }\n\n        // 检查是否是跨域请求\n        if (options.crossDomain === undefined) {\n          options.crossDomain = /^([\\w-]+:)?\\/\\/([^/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\n        }\n\n        if (!options.crossDomain) {\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        }\n\n        if (options.xhrFields) {\n          each(options.xhrFields, function (key, value) {\n            xhr[key] = value;\n          });\n        }\n\n        eventParams.xhr = xhr;\n        eventParams.options = options;\n\n        var xhrTimeout;\n\n        xhr.onload = function () {\n          if (xhrTimeout) {\n            clearTimeout(xhrTimeout);\n          }\n\n          // 包含成功或错误代码的字符串\n          var statusText;\n\n          // AJAX 返回的 HTTP 响应码是否表示成功\n          var isHttpStatusSuccess = (xhr.status >= 200 && xhr.status < 300) || xhr.status === 0;\n\n          var responseData;\n\n          if (isHttpStatusSuccess) {\n            if (xhr.status === 204 || method === 'HEAD') {\n              statusText = 'nocontent';\n            } else if (xhr.status === 304) {\n              statusText = 'notmodified';\n            } else {\n              statusText = 'success';\n            }\n\n            if (options.dataType === 'json') {\n              try {\n                responseData = JSON.parse(xhr.responseText);\n                eventParams.data = responseData;\n              } catch (err) {\n                statusText = 'parsererror';\n\n                triggerEvent(ajaxEvents.ajaxError, eventParams);\n                triggerCallback(ajaxCallbacks.error, xhr, statusText);\n\n                reject(new Error(statusText));\n              }\n\n              if (statusText !== 'parsererror') {\n                triggerEvent(ajaxEvents.ajaxSuccess, eventParams);\n                triggerCallback(ajaxCallbacks.success, responseData, statusText, xhr);\n\n                resolve(responseData);\n              }\n            } else {\n              responseData = xhr.responseType === 'text' || xhr.responseType === ''\n                ? xhr.responseText\n                : xhr.response;\n              eventParams.data = responseData;\n\n              triggerEvent(ajaxEvents.ajaxSuccess, eventParams);\n              triggerCallback(ajaxCallbacks.success, responseData, statusText, xhr);\n\n              resolve(responseData);\n            }\n          } else {\n            statusText = 'error';\n\n            triggerEvent(ajaxEvents.ajaxError, eventParams);\n            triggerCallback(ajaxCallbacks.error, xhr, statusText);\n\n            reject(new Error(statusText));\n          }\n\n          // statusCode\n          each([globals.statusCode, options.statusCode], function (i, func) {\n            if (func && func[xhr.status]) {\n              if (isHttpStatusSuccess) {\n                func[xhr.status](responseData, statusText, xhr);\n              } else {\n                func[xhr.status](xhr, statusText);\n              }\n            }\n          });\n\n          triggerEvent(ajaxEvents.ajaxComplete, eventParams);\n          triggerCallback(ajaxCallbacks.complete, xhr, statusText);\n        };\n\n        xhr.onerror = function () {\n          if (xhrTimeout) {\n            clearTimeout(xhrTimeout);\n          }\n\n          triggerEvent(ajaxEvents.ajaxError, eventParams);\n          triggerCallback(ajaxCallbacks.error, xhr, xhr.statusText);\n\n          triggerEvent(ajaxEvents.ajaxComplete, eventParams);\n          triggerCallback(ajaxCallbacks.complete, xhr, 'error');\n\n          reject(new Error(xhr.statusText));\n        };\n\n        xhr.onabort = function () {\n          var statusText = 'abort';\n\n          if (xhrTimeout) {\n            statusText = 'timeout';\n            clearTimeout(xhrTimeout);\n          }\n\n          triggerEvent(ajaxEvents.ajaxError, eventParams);\n          triggerCallback(ajaxCallbacks.error, xhr, statusText);\n\n          triggerEvent(ajaxEvents.ajaxComplete, eventParams);\n          triggerCallback(ajaxCallbacks.complete, xhr, statusText);\n\n          reject(new Error(statusText));\n        };\n\n        // ajax start 回调\n        triggerEvent(ajaxEvents.ajaxStart, eventParams);\n        triggerCallback(ajaxCallbacks.beforeSend, xhr);\n\n        if (isCanceled) {\n          reject(new Error('cancel'));\n\n          return undefined;\n        }\n\n        // Timeout\n        if (options.timeout > 0) {\n          xhrTimeout = setTimeout(function () {\n            xhr.abort();\n          }, options.timeout);\n        }\n\n        // 发送 XHR\n        xhr.send(sendData);\n\n        return undefined;\n      });\n    }\n\n    return options.dataType === 'jsonp' ? JSONP() : XHR();\n  }\n\n  /**\n   * 为 ajax 请求设置全局配置参数\n   * @param options\n   */\n  function ajaxSetup(options) {\n    $.extend(globalOptions, options || {});\n  }\n\n  $.extend({\n    ajax: ajax,\n    ajaxSetup: ajaxSetup,\n    contains: contains,\n    data: data,\n    each: each,\n    map: map,\n    merge: merge,\n    param: param,\n    removeData: removeData,\n    unique: unique,\n  });\n\n  return $;\n\n}));\n"]}